<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>AngularJS App</title>
		<link rel="stylesheet" href="style.css" />
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />
	</head>
	<body ng-app="propertyList">
		<main class="pdd-Main-Container" ng-controller="propertySearch">
			<section class="pdd-SaF-Wrapper">
				<!-- Dropdown Filter Section -->
				<div class="pdd-Dropdown-Filter">
					<label for="propertyFilter" class="pdd-SaF-Label">Filter by:</label>
					<button id="propertyFilter" class="btn dropdown-toggle btn-primary" type="button" data-bs-toggle="dropdown" aria-expanded="false">{{ selectedProperty || 'Property Type' }}</button>
					<ul class="dropdown-menu" aria-labelledby="propertyFilter">
						<li ng-click="changeSelected(type)">
							<button class="dropdown-item" type="button" data-val="all">All Types</button>
						</li>
						<li ng-repeat="type in propertyTypes" ng-click="changeSelected(type)">
							<button class="dropdown-item" type="button" data-val="{{ type | lowercase }}">{{ type }}</button>
						</li>
					</ul>
				</div>

				<!-- Search Section -->
				<div class="pdd-Input-Search input-group mb-3">
					<label for="propertySearch" class="pdd-SaF-Label">Search:</label>
					<input id="propertySearch" ng-model="searchQuery" type="text" class="form-control" placeholder="Search property..." aria-label="Search for property" />
				</div>
			</section>

			<section class="pdd-Result-Wrapper">
				<!-- Property Result -->
				<div class="pdd-Wrapper-Properties">
					<article class="property-item" ng-repeat="property in properties | filter: propertyFilter | filter: searchQuery">
						<figure>
							<img ng-src="{{ property.image || 'https://images.pexels.com/photos/106399/pexels-photo-106399.jpeg'}}" alt="{{property.name}} | {{ property.property_type }}" />
							<figcaption>{{ property.price | currency }}</figcaption>
						</figure>
						<div class="property-details">
							<h3>{{ property.name }}</h3>
							<address>{{ property.address }}</address>
							<p>{{ property.description }}</p>
							<a href="{{ property.link }}" class="btn btn-primary">Read More</a>
						</div>
					</article>
				</div>
				<!-- Map -->
				<div class="pdd-Wrapper-Map">
					<iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3153.835434508616!2d144.9630577!3d-37.8142175!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x6ad642af0f11fd81%3A0xf577a50d07b8b5a5!2sMelbourne%20VIC%2C%20Australia!5e0!3m2!1sen!2sau!4v1670828722033!5m2!1sen!2sau" width="100%" height="100%" style="border: 0" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade" title="Property Map"></iframe>
				</div>
			</section>
		</main>

		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.3/angular.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
		<script src="app.js"></script>
	</body>
</html>
